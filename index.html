<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Free online QR code generator & document tools - Create, customize QR codes, compress images, merge PDFs, and more tools for document processing">
    <meta name="keywords" content="qr code generator, qr code maker, document tools, image compression, pdf merger, webp converter, online tools, free tools">
    <meta name="author" content="Document Tools">
    <meta property="og:title" content="QR Code Generator & Document Tools - Free Online Utilities">
    <meta property="og:description" content="Create customizable QR codes, compress images, convert formats, merge PDFs and more with our free online document processing tools">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://make-qr.github.io/">
    <meta property="og:image" content="assets/images/document-tools-og.png">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="QR Code Generator & Document Tools">
    <meta name="twitter:description" content="Create customizable QR codes and process documents with our free online tools">
    <meta name="robots" content="index, follow">
    <meta name="canonical" href="https://make-qr.github.io/">
    <title>QR Code Generator & Document Tools - Free Online Utilities</title>
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ”²</text></svg>">
    
    <!-- Stylesheets -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="assets/css/style.css" rel="stylesheet">
    
    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jscolor/2.4.5/jscolor.min.js"></script>
    <script src="assets/js/qr.js"></script>
    <script src="assets/js/template-loader.js"></script>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-257SVV94KB"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-257SVV94KB');
    </script>
    
    <!-- Schema.org markup -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "QR Code Generator & Document Tools",
      "applicationCategory": "UtilitiesApplication",
      "operatingSystem": "Any",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "description": "Free online QR code generator & document tools - Create, customize QR codes, compress images, merge PDFs, and more tools for document processing",
      "potentialAction": {
        "@type": "CreateAction",
        "object": "QRCode",
        "result": {
          "@type": "DigitalDocument",
          "encodingFormat": "image/png"
        }
      },
      "featureList": [
        "Generate QR codes for text, URLs, vCards, email, SMS, WiFi",
        "Scan QR codes",
        "Compress JPG and PNG images",
        "Convert images to WebP format",
        "Convert WebP to PNG",
        "Merge PDF files"
      ],
      "url": "https://make-qr.github.io/",
      "creator": {
        "@type": "Organization",
        "name": "Document Tools",
        "email": "contact@documenttools.com",
        "logo": "https://make-qr.github.io/assets/images/logo-footer.png"
      }
    }
    </script>
</head>
<body class="bg-gray-100">
    <!-- Navigation -->
    

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 py-8">
        <div class="bg-white rounded-lg shadow-lg p-6 w-full max-w-4xl mx-auto">  
            <div class="flex items-center justify-center mb-6">
                <div class="mr-3 bg-blue-600 text-white p-2 rounded-lg">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z" />
                    </svg>
                </div>
                <h1 class="text-2xl md:text-3xl font-bold text-center text-gray-800">Versatile QR Code Generator</h1>  
            </div>
            
            <!-- Tab Navigation -->
            <div class="flex flex-wrap border-b border-gray-200 mb-4">
                <button data-target="tab-text" class="tab-btn px-4 py-2 text-sm font-medium rounded-t-md bg-blue-600 text-white">Text</button>
                <button data-target="tab-url" class="tab-btn px-4 py-2 text-sm font-medium">URL</button>
                <button data-target="tab-vcard" class="tab-btn px-4 py-2 text-sm font-medium">vCard</button>
                <button data-target="tab-email" class="tab-btn px-4 py-2 text-sm font-medium">Email</button>
                <button data-target="tab-sms" class="tab-btn px-4 py-2 text-sm font-medium">SMS</button>
                <button data-target="tab-wifi" class="tab-btn px-4 py-2 text-sm font-medium">WiFi</button>
                <button data-target="tab-file" class="tab-btn px-4 py-2 text-sm font-medium">File</button>
                <a href="pages/scan-qr.html" class="tab-btn px-4 py-2 text-sm font-medium flex items-center">Scan QR<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"/></svg></a>
            </div>
            
            <!-- Tab Content -->
            <div class="tab-content active" id="tab-text">
                <div class="mb-4">  
                    <label for="text-input" class="block text-sm font-medium text-gray-700 mb-2">Enter text:</label>  
                    <textarea   
                        id="text-input"   
                        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"   
                        rows="3"   
                        placeholder="Enter simple text..."  
                    ></textarea>  
                </div>
            </div>
            
            <div class="tab-content" id="tab-url">
                <div class="mb-4">  
                    <label for="url-input" class="block text-sm font-medium text-gray-700 mb-2">Enter URL:</label>  
                    <input   
                        type="url"
                        id="url-input"   
                        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"   
                        placeholder="https://example.com"  
                    />
                </div>
            </div>
            
            <div class="tab-content" id="tab-vcard">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="mb-4">  
                        <label for="vcard-name" class="block text-sm font-medium text-gray-700 mb-2">Full Name:</label>  
                        <input   
                            type="text"
                            id="vcard-name"   
                            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"   
                            placeholder="John Doe"  
                        />
                    </div>
                    <div class="mb-4">  
                        <label for="vcard-org" class="block text-sm font-medium text-gray-700 mb-2">Organization:</label>  
                        <input   
                            type="text"
                            id="vcard-org"   
                            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"   
                            placeholder="ABC Company"  
                        />
                    </div>
                    <div class="mb-4">  
                        <label for="vcard-phone" class="block text-sm font-medium text-gray-700 mb-2">Phone Number:</label>  
                        <input   
                            type="tel"
                            id="vcard-phone"   
                            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"   
                            placeholder="+1 (555) 123-4567"  
                        />
                    </div>
                    <div class="mb-4">  
                        <label for="vcard-email" class="block text-sm font-medium text-gray-700 mb-2">Email:</label>  
                        <input   
                            type="email"
                            id="vcard-email"   
                            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"   
                            placeholder="email@example.com"  
                        />
                    </div>
                    <div class="mb-4">  
                        <label for="vcard-url" class="block text-sm font-medium text-gray-700 mb-2">Website:</label>  
                        <input   
                            type="url"
                            id="vcard-url"   
                            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"   
                            placeholder="https://example.com"  
                        />
                    </div>
                    <div class="mb-4">  
                        <label for="vcard-address" class="block text-sm font-medium text-gray-700 mb-2">Address:</label>  
                        <input   
                            type="text"
                            id="vcard-address"   
                            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"   
                            placeholder="123 Main St, City, Country"  
                        />
                    </div>
                </div>
            </div>
            
            <div class="tab-content" id="tab-email">
                <div class="mb-4">  
                    <label for="email-to" class="block text-sm font-medium text-gray-700 mb-2">To:</label>  
                    <input   
                        type="email"
                        id="email-to"   
                        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"   
                        placeholder="recipient@example.com"  
                    />
                </div>
                <div class="mb-4">  
                    <label for="email-subject" class="block text-sm font-medium text-gray-700 mb-2">Subject:</label>  
                    <input   
                        type="text"
                        id="email-subject"   
                        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"   
                        placeholder="Email subject"  
                    />
                </div>
                <div class="mb-4">  
                    <label for="email-body" class="block text-sm font-medium text-gray-700 mb-2">Message Body:</label>  
                    <textarea   
                        id="email-body"   
                        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"   
                        rows="3"   
                        placeholder="Email message content..."  
                    ></textarea>  
                </div>
            </div>
            
            <div class="tab-content" id="tab-sms">
                <div class="mb-4">  
                    <label for="sms-phone" class="block text-sm font-medium text-gray-700 mb-2">Phone Number:</label>  
                    <input   
                        type="tel"
                        id="sms-phone"   
                        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"   
                        placeholder="+1 (555) 123-4567"  
                    />
                </div>
                <div class="mb-4">  
                    <label for="sms-message" class="block text-sm font-medium text-gray-700 mb-2">Message Text:</label>  
                    <textarea   
                        id="sms-message"   
                        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"   
                        rows="3"   
                        placeholder="SMS message content..."  
                    ></textarea>  
                </div>
            </div>
            
            <div class="tab-content" id="tab-wifi">
                <div class="mb-4">  
                    <label for="wifi-ssid" class="block text-sm font-medium text-gray-700 mb-2">Network Name (SSID):</label>  
                    <input   
                        type="text"
                        id="wifi-ssid"   
                        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"   
                        placeholder="WiFi Network Name"  
                    />
                </div>
                <div class="mb-4">  
                    <label for="wifi-password" class="block text-sm font-medium text-gray-700 mb-2">Password:</label>  
                    <input   
                        type="password"
                        id="wifi-password"   
                        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"   
                        placeholder="WiFi Password"  
                    />
                </div>
                <div class="mb-4">  
                    <label class="block text-sm font-medium text-gray-700 mb-2">Encryption Type:</label>  
                    <select id="wifi-encryption" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                        <option value="WPA">WPA/WPA2</option>
                        <option value="WEP">WEP</option>
                        <option value="nopass">No Password</option>
                    </select>
                </div>
                <div class="mb-4">
                    <div class="flex items-center">
                        <input type="checkbox" id="wifi-hidden" class="mr-2">
                        <label for="wifi-hidden" class="text-sm font-medium text-gray-700">Hidden Network</label>
                    </div>
                </div>
            </div>
            
            <div class="tab-content" id="tab-file">
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Select file type:</label>
                    <select id="file-type" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                        <option value="image">Image</option>
                        <option value="pdf">PDF</option>
                    </select>
                </div>
                <div class="mb-4">  
                    <label for="file-upload" class="block text-sm font-medium text-gray-700 mb-2">Choose file:</label>  
                    <input   
                        type="file"
                        id="file-upload"   
                        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"   
                        accept=".jpg,.jpeg,.png,.pdf,.gif"
                    />
                    <p class="text-xs text-gray-500 mt-1">Note: Large files will generate complex QR codes that may be difficult to scan.</p>
                </div>
                <div id="file-preview" class="hidden mb-4 border rounded-lg p-2 flex justify-center">
                    <img id="image-preview" src="" alt="Preview" class="max-h-40 hidden">
                    <div id="pdf-preview" class="hidden text-center py-4">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 mx-auto text-red-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z" />
                        </svg>
                        <p id="pdf-name" class="mt-2 text-sm font-medium"></p>
                    </div>
                </div>
            </div>
            
            <!-- QR Code Style Settings -->
            <div class="border-t border-gray-200 pt-4 mt-4">
                <h3 class="text-lg font-medium text-gray-800 mb-2">QR Code Customization</h3>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div>
                        <label for="qr-size" class="block text-sm font-medium text-gray-700 mb-2">Size:</label>  
                        <select id="qr-size" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">  
                            <option value="128">Small (128x128)</option>  
                            <option value="200">Medium (200x200)</option>  
                            <option value="256">Large (256x256)</option>  
                            <option value="320">Extra Large (320x320)</option>  
                        </select>
                    </div>
                    <div>
                        <label for="qr-foreground" class="block text-sm font-medium text-gray-700 mb-2">QR Color:</label>  
                        <input data-jscolor="{}" id="qr-foreground" value="#000000" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                    <div>
                        <label for="qr-background" class="block text-sm font-medium text-gray-700 mb-2">Background Color:</label>  
                        <input data-jscolor="{}" id="qr-background" value="#FFFFFF" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                </div>
                
                <!-- ThÃªm tÃ¹y chá»‰nh khung -->
                <div class="mt-6">
                    <h4 class="text-md font-medium text-gray-800 mb-2">Frame Options</h4>
                    <div class="grid grid-cols-2 md:grid-cols-6 gap-2 mb-4">
                        <div class="frame-option selected" data-frame-style="none">
                            <div class="frame-preview">
                                <div class="frame-preview-inner"></div>
                            </div>
                            <p class="text-xs text-center mt-1">No Frame</p>
                        </div>
                        <div class="frame-option" data-frame-style="style-1">
                            <div class="frame-preview">
                                <div class="frame-preview-inner qr-frame-style-1"></div>
                            </div>
                            <p class="text-xs text-center mt-1">Simple Frame</p>
                        </div>
                        <div class="frame-option" data-frame-style="style-2">
                            <div class="frame-preview">
                                <div class="frame-preview-inner qr-frame-style-2"></div>
                            </div>
                            <p class="text-xs text-center mt-1">Circular Frame</p>
                        </div>
                        <div class="frame-option" data-frame-style="style-3">
                            <div class="frame-preview">
                                <div class="frame-preview-inner qr-frame-style-3"></div>
                            </div>
                            <p class="text-xs text-center mt-1">Special Frame</p>
                        </div>
                        <div class="frame-option" data-frame-style="style-4">
                            <div class="frame-preview">
                                <div class="frame-preview-inner qr-frame-style-4"></div>
                            </div>
                            <p class="text-xs text-center mt-1">Dashed Frame</p>
                        </div>
                        <div class="frame-option" data-frame-style="style-5">
                            <div class="frame-preview">
                                <div class="frame-preview-inner qr-frame-style-5"></div>
                            </div>
                            <p class="text-xs text-center mt-1">Double Frame</p>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
                        <div>
                            <label for="frame-color" class="block text-sm font-medium text-gray-700 mb-2">Frame Color:</label>  
                            <input data-jscolor="{}" id="frame-color" value="#000000" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div class="md:col-span-2">
                            <label for="qr-caption" class="block text-sm font-medium text-gray-700 mb-2">Caption (optional):</label>  
                            <input type="text" id="qr-caption" placeholder="Enter caption for QR code" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="flex space-x-2 my-6">  
                <button   
                    id="generate-btn"   
                    class="flex-1 bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md transition duration-200"  
                >  
                    Generate QR Code  
                </button>  
                
                <button   
                    id="download-btn"   
                    class="flex-1 bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-4 rounded-md transition duration-200 disabled:opacity-50 disabled:cursor-not-allowed"  
                    disabled  
                >  
                    Download  
                </button>  
            </div>  
            
            <div class="flex justify-center mb-4">  
                <div id="qrcode-container" class="border border-gray-300 rounded-md p-4 bg-white hidden"></div>  
            </div>  
            
            <div id="qrcode" class="flex justify-center"></div>  
            
            
        </div>  
    </main>

    <script>  
        document.addEventListener('DOMContentLoaded', function() {  
            const generateBtn = document.getElementById('generate-btn');  
            const downloadBtn = document.getElementById('download-btn');  
            const qrcodeContainer = document.getElementById('qrcode-container');  
            const qrcode = document.getElementById('qrcode');  
            
            let qrInstance = null;  
            
            // Tab Navigation
            const tabButtons = document.querySelectorAll('.tab-btn');
            const tabContents = document.querySelectorAll('.tab-content');
            
            tabButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const targetId = this.getAttribute('data-target');
                    
                    // Remove active class from all buttons and contents
                    tabButtons.forEach(btn => btn.classList.remove('bg-blue-600', 'text-white'));
                    tabContents.forEach(content => content.classList.remove('active'));
                    
                    // Add active class to current button and content
                    this.classList.add('bg-blue-600', 'text-white');
                    document.getElementById(targetId).classList.add('active');
                });
            });
            
            // Frame customization event listeners
            const frameOptions = document.querySelectorAll('.frame-option');
            let selectedFrameStyle = 'none';
            
            frameOptions.forEach(option => {
                option.addEventListener('click', function() {
                    // Remove selected class from all options
                    frameOptions.forEach(opt => opt.classList.remove('selected'));
                    
                    // Add selected class to clicked option
                    this.classList.add('selected');
                    
                    // Store selected frame style
                    selectedFrameStyle = this.getAttribute('data-frame-style');
                });
            });
            
            // Update frame preview colors
            document.getElementById('frame-color').addEventListener('input', function() {
                const frameColor = this.value;
                document.querySelectorAll('.frame-preview-inner').forEach(frame => {
                    if (frame.classList.length > 1) { // Has frame style
                        frame.style.borderColor = frameColor;
                    }
                });
            });
            
            // Function to generate QR code with frame
            function generateQRCode(text) {
                // Validate input
                if (!text || typeof text !== 'string') {
                    console.error("Invalid text for QR code:", text);
                    alert("Cannot generate QR code: Invalid data");
                    return;
                }
                
                try {
                    // XÃ³a mÃ£ QR cÅ© náº¿u cÃ³  
                    qrcode.innerHTML = '';
                    
                    const size = parseInt(document.getElementById('qr-size').value);
                    const foreground = document.getElementById('qr-foreground').value;
                    const background = document.getElementById('qr-background').value;
                    const frameColor = document.getElementById('frame-color').value;
                    const caption = document.getElementById('qr-caption').value.trim();
                    
                    // Create container for QR code with possible frame
                    const qrContainer = document.createElement('div');
                    
                    // Add frame if selected
                    if (selectedFrameStyle !== 'none') {
                        qrContainer.className = 'qr-with-frame';
                        
                        const frameElement = document.createElement('div');
                        frameElement.className = `qr-frame qr-frame-${selectedFrameStyle}`;
                        frameElement.style.borderColor = frameColor;
                        
                        qrContainer.appendChild(frameElement);
                    }
                    
                    // Create element for the QR code itself
                    const qrElement = document.createElement('div');
                    qrElement.id = 'qr-code-element';
                    qrContainer.appendChild(qrElement);
                    
                    // Add caption if provided
                    if (caption) {
                        const captionElement = document.createElement('div');
                        captionElement.className = 'qr-caption';
                        captionElement.textContent = caption;
                        captionElement.style.color = frameColor;
                        qrContainer.appendChild(captionElement);
                    }
                    
                    // Add container to DOM
                    qrcode.appendChild(qrContainer);
                    
                    // If text is too long, warn the user
                    if (text.length > 1000) {
                        console.warn("QR code text is very long:", text.length, "characters");
                    }
                    
                    // Generate QR code in the element
                    qrInstance = new QRCode(qrElement, {  
                        text: text,  
                        width: size,  
                        height: size,  
                        colorDark: foreground,  
                        colorLight: background,  
                        correctLevel: QRCode.CorrectLevel.H  
                    });  
                    
                    // Hiá»ƒn thá»‹ container vÃ  kÃ­ch hoáº¡t nÃºt táº£i xuá»‘ng  
                    qrcodeContainer.classList.remove('hidden');  
                    downloadBtn.disabled = false;
                } catch (error) {
                    console.error("Error generating QR code:", error);
                    alert("Cannot generate QR code: " + error.message);
                    
                    // Clean up on error
                    qrcode.innerHTML = '';
                    qrcodeContainer.classList.add('hidden');  
                    downloadBtn.disabled = true;
                }
            }
            
            // HÃ m táº¡o mÃ£ QR  
            generateBtn.addEventListener('click', function() {  
                // Determine active tab
                const activeTab = document.querySelector('.tab-content.active').id;
                let qrContent = '';
                
                switch (activeTab) {
                    case 'tab-text':
                        qrContent = document.getElementById('text-input').value.trim();
                        break;
                        
                    case 'tab-url':
                        qrContent = document.getElementById('url-input').value.trim();
                        break;
                        
                    case 'tab-vcard':
                        const name = document.getElementById('vcard-name').value.trim();
                        const org = document.getElementById('vcard-org').value.trim();
                        const phone = document.getElementById('vcard-phone').value.trim();
                        const email = document.getElementById('vcard-email').value.trim();
                        const url = document.getElementById('vcard-url').value.trim();
                        const address = document.getElementById('vcard-address').value.trim();
                        
                        // Create vCard format
                        qrContent = "BEGIN:VCARD\nVERSION:3.0\n";
                        if (name) qrContent += `FN:${name}\nN:${name}\n`;
                        if (org) qrContent += `ORG:${org}\n`;
                        if (phone) qrContent += `TEL:${phone}\n`;
                        if (email) qrContent += `EMAIL:${email}\n`;
                        if (url) qrContent += `URL:${url}\n`;
                        if (address) qrContent += `ADR:;;${address};;;\n`;
                        qrContent += "END:VCARD";
                        break;
                        
                    case 'tab-email':
                        const emailTo = document.getElementById('email-to').value.trim();
                        const emailSubject = document.getElementById('email-subject').value.trim();
                        const emailBody = document.getElementById('email-body').value.trim();
                        
                        qrContent = `mailto:${emailTo}`;
                        if (emailSubject || emailBody) {
                            qrContent += '?';
                            if (emailSubject) qrContent += `subject=${encodeURIComponent(emailSubject)}`;
                            if (emailSubject && emailBody) qrContent += '&';
                            if (emailBody) qrContent += `body=${encodeURIComponent(emailBody)}`;
                        }
                        break;
                        
                    case 'tab-sms':
                        const smsPhone = document.getElementById('sms-phone').value.trim();
                        const smsMessage = document.getElementById('sms-message').value.trim();
                        
                        qrContent = `sms:${smsPhone}`;
                        if (smsMessage) {
                            qrContent += `?body=${encodeURIComponent(smsMessage)}`;
                        }
                        break;
                        
                    case 'tab-wifi':
                        const wifiSsid = document.getElementById('wifi-ssid').value.trim();
                        const wifiPassword = document.getElementById('wifi-password').value;
                        const wifiEncryption = document.getElementById('wifi-encryption').value;
                        const wifiHidden = document.getElementById('wifi-hidden').checked;
                        
                        qrContent = "WIFI:";
                        if (wifiEncryption !== 'nopass') qrContent += `T:${wifiEncryption};`;
                        qrContent += `S:${wifiSsid};`;
                        if (wifiEncryption !== 'nopass') qrContent += `P:${wifiPassword};`;
                        if (wifiHidden) qrContent += "H:true;";
                        qrContent += ";";
                        break;
                        
                    case 'tab-file':
                        const fileInput = document.getElementById('file-upload');
                        if (!fileInput.files.length) {
                            alert('Please select a file!');
                            return;
                        }
                        
                        const file = fileInput.files[0];
                        if (file.size > 1024 * 100) { // Reduce limit to 100KB
                            alert('File is too large! QR code may not work. Please select a file smaller than 100KB.');
                        }
                        
                        const reader = new FileReader();
                        reader.onload = function(e) {
                            try {
                                // Validate that we have data
                                if (!e.target.result) {
                                    throw new Error("Cannot read file data.");
                                }
                                
                                // Check if file size is manageable for QR code
                                if (e.target.result.length > 1024 * 200) { // 200KB in data URL is too much
                                    alert("Converted file is too large. QR code may not work properly. Please select a smaller file.");
                                }
                                
                                // Generate QR code safely
                                generateQRCode(e.target.result);
                            } catch (error) {
                                console.error("Lá»—i khi xá»­ lÃ½ file:", error);
                                alert("Cannot generate QR code from this file. " + error.message);
                            }
                        };
                        reader.onerror = function() {
                            alert("Error reading file. Please try another file.");
                        };
                        reader.readAsDataURL(file);
                        return; // Skip the normal QR generation below
                }
                
                if (!qrContent) {
                    alert('Please enter content to generate QR code!');  
                    return;  
                }  
                
                generateQRCode(qrContent);
            });
            
            // Äiá»u chá»‰nh hÃ m táº£i xuá»‘ng Ä‘á»ƒ táº£i mÃ£ QR vá»›i khung
            downloadBtn.addEventListener('click', function() {  
                if (!qrcode.querySelector('img')) {  
                    alert('Please generate a QR code first!');  
                    return;  
                }
                
                // Get the QR code container with frame (if any)
                const qrWithFrame = qrcode.querySelector('.qr-with-frame') || qrcode;
                
                // Create a canvas element to draw the QR code with frame
                const canvas = document.createElement('canvas');
                const ctx = canvas.getContext('2d');
                
                // Set canvas size
                const padding = 20; // Extra padding for the frame
                const qrImg = qrcode.querySelector('img');
                const hasFrame = qrWithFrame.classList.contains('qr-with-frame');
                const hasCaption = qrWithFrame.querySelector('.qr-caption');
                
                const captionHeight = hasCaption ? 40 : 0;
                const frameWidth = hasFrame ? padding * 2 : 0;
                
                canvas.width = qrImg.width + frameWidth;
                canvas.height = qrImg.height + frameWidth + captionHeight;
                
                // Fill background
                ctx.fillStyle = '#FFFFFF';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                // If there's a frame, draw it
                if (hasFrame) {
                    const frameColor = document.getElementById('frame-color').value;
                    const frameStyle = selectedFrameStyle;
                    
                    ctx.strokeStyle = frameColor;
                    ctx.lineWidth = 10;
                    
                    if (frameStyle === 'style-1') {
                        // Simple rectangular frame
                        ctx.strokeRect(5, 5, canvas.width - 10, canvas.height - captionHeight - 10);
                        ctx.lineWidth = 1;
                        ctx.strokeRect(15, 15, canvas.width - 30, canvas.height - captionHeight - 30);
                    } else if (frameStyle === 'style-2') {
                        // Round frame
                        ctx.beginPath();
                        const radius = canvas.width / 2;
                        ctx.arc(canvas.width/2, (canvas.height - captionHeight)/2, radius - 10, 0, Math.PI * 2);
                        ctx.stroke();
                    } else if (frameStyle === 'style-4') {
                        // Dashed frame
                        ctx.setLineDash([10, 10]);
                        ctx.strokeRect(5, 5, canvas.width - 10, canvas.height - captionHeight - 10);
                    } else if (frameStyle === 'style-5') {
                        // Double frame
                        ctx.strokeRect(5, 5, canvas.width - 10, canvas.height - captionHeight - 10);
                        ctx.strokeRect(15, 15, canvas.width - 30, canvas.height - captionHeight - 30);
                    } else {
                        // Default frame
                        ctx.strokeRect(5, 5, canvas.width - 10, canvas.height - captionHeight - 10);
                    }
                }
                
                // Draw the QR code image
                ctx.drawImage(qrImg, hasFrame ? padding/2 : 0, hasFrame ? padding/2 : 0);
                
                // If there's a caption, draw it
                if (hasCaption) {
                    const caption = hasCaption.textContent;
                    ctx.font = 'bold 20px Arial';
                    ctx.fillStyle = document.getElementById('frame-color').value;
                    ctx.textAlign = 'center';
                    ctx.fillText(caption, canvas.width/2, canvas.height - captionHeight/2);
                }
                
                // Convert canvas to data URL
                const dataURL = canvas.toDataURL('image/png');
                
                // Create download link
                const link = document.createElement('a');
                link.download = 'qrcode-with-frame.png';
                link.href = dataURL;
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
            });  

            // Handle file upload for the file tab
            const fileUpload = document.getElementById('file-upload');
            const filePreview = document.getElementById('file-preview');
            const imagePreview = document.getElementById('image-preview');
            const pdfPreview = document.getElementById('pdf-preview');
            const pdfName = document.getElementById('pdf-name');
            
            fileUpload.addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (!file) {
                    filePreview.classList.add('hidden');
                    return;
                }
                
                // Check file size limit - strict 100KB limit
                const MAX_FILE_SIZE = 100 * 1024; // 100KB
                if (file.size > MAX_FILE_SIZE) {
                    alert(`File is too large (${Math.round(file.size/1024)}KB). Please select a file smaller than ${MAX_FILE_SIZE/1024}KB.`);
                    fileUpload.value = '';
                    filePreview.classList.add('hidden');
                    return;
                }
                
                const fileType = document.getElementById('file-type').value;
                
                if (fileType === 'image') {
                    if (!file.type.startsWith('image/')) {
                        alert('Please select an image file');
                        fileUpload.value = '';
                        filePreview.classList.add('hidden');
                        return;
                    }
                    
                    // Show image preview
                    const reader = new FileReader();
                    reader.onload = function(event) {
                        imagePreview.src = event.target.result;
                        imagePreview.classList.remove('hidden');
                        pdfPreview.classList.add('hidden');
                        filePreview.classList.remove('hidden');
                    };
                    reader.readAsDataURL(file);
                } else if (fileType === 'pdf') {
                    if (file.type !== 'application/pdf') {
                        alert('Please select a PDF file');
                        fileUpload.value = '';
                        filePreview.classList.add('hidden');
                        return;
                    }
                    
                    // Show PDF info
                    pdfName.textContent = file.name;
                    imagePreview.classList.add('hidden');
                    pdfPreview.classList.remove('hidden');
                    filePreview.classList.remove('hidden');
                }
            });

            // Mobile menu toggle
            const mobileMenuBtn = document.querySelector('.mobile-menu-btn');
            const mobileMenu = document.querySelector('.mobile-menu');
            
            if (mobileMenuBtn && mobileMenu) {
                mobileMenuBtn.addEventListener('click', function() {
                    mobileMenu.classList.toggle('active');
                });
            }
        });  
    </script>  
    
    <!-- Footer -->
    
</body>
</html> 